<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>复杂切割</title>
 </head>
 <body>
 
    <button onclick="sort(this)" id="btnSort">排序</button>
        <ul id="scores">
            <li>321</li>
			<li>21</li>
			<li>521</li>
			<li>999</li>
			<li>1314</li>
		</ul>
		
	<script>
//		function sort(btn){
//            console.log(btn)
//            var html=scores.innerHTML
//            var html =html.replace(/^\s*<li>|<\/li>\s+$/ig,'')
//            var nums =html.split(/<\/li>\s*<li>/i)
//			if(btn.innerHTML=='排序↓'){
//			   nums.sort(function(a,b) {return(a-b)})
//			}else{
//               nums.sort(function(a,b) {return(b-a)})
//			   btn.innerHTML ='排序↓'
//			}
//			html='<li>'+nums.join('</li><li>')+'</li>'
//            scores.innerHTML=html
//		}

          function sort(btn){
//链式操作
              scores.innerHTML='<li>'+
			  scores
			  .innerHTML//获取内容
			  .replace(/^\s*<li>|<\/li>\s+$/ig,'')//掐头去尾
			  .split(/<\/li>\s*<li>/i)                   //切割
			  .sort(function (a,b){                      //排序
				  return a-b*(btn.innerHTML=='排序↓'?1:-1)
			  })
			  .join('</li><li>')
			  +'</li>'                                        //补上头尾

			  btn.innerHTML=
			  btn.innerHTML=='排序↓'?'排序↑':'排序↓'
		  }
	</script>
 </body>
</html>
