<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>复杂切割</title>
 </head>
 <body>
 <!--客户端看得见的效果：
          点击排序按钮，按钮进行变化，排序↓或者排序↑
		  对应的列表呈现，正序以及倒叙的排列
		  对应知识:
		        点击事件 onclick
				排序        sort(function(a,b){return a-b/b-a})
   -->
    <button onclick="sort(this)" id="btnSort">排序</button>
        <ul id="scores">
            <li>321</li>
			<li>21</li>
			<li>521</li>
			<li>999</li>
			<li>1314</li>
		</ul>
	<script>
//点击事件:排序
//按钮的变化---this(可以自动获得当前元素，即按钮)
		function sort(btn){
//测试this是不是能找得到button
            console.log(btn)
//排序问题：1.是对含有标签<li>,空格以及数字组成的大的字符串进行排序
//找到代码页面当中的大字符串：具有标签，空格以及数字，innerHTML
            var html=scores.innerHTML
//测试找到是否成功
			console.log(html)
			//处理开头结尾：replace衍生：删除
            var html =html.replace(/^\s*<li>|<\/li>\s+$/ig,'')
//排序问题：2.将一些不需要排序的空格，标签删除
//切割：删除中间部分，不包括开头和结尾
            var nums =html.split(/<\/li>\s*<li>/i)
			console.log(nums)
        //    nums.sort(function(a,b) {return(a-b)})
		//	console.log(nums)
			if(btn.innerHTML=='排序↓'){
			   nums.sort(function(a,b) {return(a-b)})
			   btn.innerHTML ='排序↑'
			}else{
               nums.sort(function(a,b) {return(b-a)})
			   btn.innerHTML ='排序↓'
			}
//将控制台里面的排序结果返回客户端
//如何返回：将删除掉的标签，空格等还回来
//1.中间部分   2.开头以及结尾
//用join完成拼接
        //    nums.join('</li><li>')
		//	console.log('<li>'+html+'</li>')
			html='<li>'+nums.join('</li><li>')+'</li>'
			console.log(html)
//如何放到客户端
            scores.innerHTML=html
		}
	</script>
 </body>
</html>
